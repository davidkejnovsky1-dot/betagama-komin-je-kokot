<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="UTF-8">
<title>ITABet â€“ Å kolnÃ­ Casino</title>

<style>
body {
    background: #0a2038;
    color: #fff;
    font-family: Arial;
    text-align: center;
    margin: 0;
}

/* LOGO */
#logo {
    width: 180px;
    margin-top: 10px;
}

/* HLAVIÄŒKA */
header {
    background: #08182c;
    padding: 20px;
    border-bottom: 3px solid #0d345c;
}

.team {
    font-size: 14px;
    opacity: 0.7;
}

/* VIP LEVEL */
#vipBox {
    font-size: 20px;
    margin-top: 10px;
}

/* NAV */
.nav button {
    padding: 10px 20px;
    margin: 5px;
    background: #f5a623;
    border: none;
    border-radius: 6px;
    font-weight: bold;
    cursor: pointer;
}

/* STRÃNKY */
.page { display: none; }
.active { display: block; }

/* AUTOMATY */
.slots-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 20px;
}

.slot-box {
    width: 200px;
    background: rgba(255,255,255,0.1);
    padding: 15px;
    border-radius: 10px;
}

.slot {
    font-size: 40px;
    margin: 10px;
}

button.play {
    background: #4caf50;
    padding: 10px;
    margin-top: 5px;
    border-radius: 6px;
    cursor: pointer;
}

/* BLACKJACK */
.cards {
    font-size: 35px;
    margin: 5px;
}

/* FOOTER */
footer {
    margin-top: 40px;
    background: #08182c;
    padding: 25px;
    border-top: 3px solid #0d345c;
}

.author-box {
    background: rgba(255,255,255,0.1);
    padding: 15px 25px;
    border-radius: 10px;
    display: inline-block;
}
</style>
</head>

<body>

<header>
    <img id="logo" src="https://i.imgur.com/jIhqlxG.png" alt="ITABet Logo">
    <h1>ğŸ° ITABet â€“ Å kolnÃ­ Casino ğŸ°</h1>

    <div class="team">
        VedoucÃ­: <b>David KejnovskÃ½</b> |
        Grafik: <b>Daniel</b> |
        Designer: <b>Filip Jaheka</b> |
        ProgramÃ¡tor: <b>Ty</b>
    </div>
</header>

<h2>Kredit: <span id="credits">200</span> ğŸ’°</h2>
<h3 id="vipBox">VIP: Bronz ğŸŸ¤</h3>

<!-- PENÃZE -->
<div>
    <input id="moneyInput" type="number" placeholder="ÄŒÃ¡stka" style="padding:8px;border-radius:5px;">
    <button onclick="addMoney()">VloÅ¾it</button>
    <button onclick="withdrawMoney()">Vybrat</button>
</div>

<br>

<div class="nav">
    <button onclick="showPage('automaty')">Automaty</button>
    <button onclick="showPage('blackjack')">Blackjack</button>
</div>

<!-- AUTOMATY -->
<div id="automaty" class="page active">
    <h2>ğŸ² Automaty â€“ ToÄÃ­cÃ­ sloty</h2>
    <div class="slots-container"></div>
</div>

<!-- BLACKJACK -->
<div id="blackjack" class="page">
    <h2>â™ ï¸ Blackjack</h2>

    <p><b>Tvoje karty:</b></p>
    <div id="playerCards" class="cards"></div>
    SouÄet: <span id="playerTotal">0</span>

    <p><b>Dealer:</b></p>
    <div id="dealerCards" class="cards"></div>
    SouÄet: <span id="dealerTotal">0</span>

    <div>
        <button onclick="startBlackjack()">NovÃ¡ hra</button>
        <button onclick="hit()">Hit</button>
        <button onclick="stand()">Stand</button>
    </div>

    <p id="bjResult"></p>
</div>

<!-- AUTOÅ˜I -->
<footer>
    <div class="author-box">
        <h3>ğŸ“ AutoÅ™i projektu ITABet</h3>
        <p>ğŸ§‘â€ğŸ’¼ VedoucÃ­: <b>David KejnovskÃ½</b></p>
        <p>ğŸ¨ Grafik: <b>Daniel</b></p>
        <p>ğŸ§© Designer: <b>Filip Jaheka</b></p>
        <p>ğŸ’» ProgramÃ¡tor: <b>Ty</b></p>
        <p style="opacity:0.6;">Å kolnÃ­ projekt â€“ 2025</p>
    </div>
</footer>

<!-- ZVUKY -->
<audio id="spinSound" src="https://www.myinstants.com/media/sounds/slot-machine.mp3"></audio>
<audio id="winSound" src="https://www.myinstants.com/media/sounds/winning.mp3"></audio>

<script>
let credits = 200;

/* ---------- VIP SYSTÃ‰M ---------- */
function updateVIP() {
    let vip = document.getElementById("vipBox");

    if (credits >= 2000) vip.innerHTML = "VIP: Diamond ğŸ’";
    else if (credits >= 1000) vip.innerHTML = "VIP: Gold ğŸŸ¡";
    else if (credits >= 500) vip.innerHTML = "VIP: Silver âšª";
    else vip.innerHTML = "VIP: Bronz ğŸŸ¤";
}

/* ---------- PenÃ­ze ---------- */
function updateCredits(x) {
    credits += x;
    if (credits < 0) credits = 0;
    document.getElementById("credits").innerText = credits;
    updateVIP();
}

function addMoney() {
    let amount = Number(document.getElementById("moneyInput").value);
    if (amount > 0) {
        updateCredits(amount);
        alert("VloÅ¾eno: " + amount);
    }
}

function withdrawMoney() {
    let amount = Number(document.getElementById("moneyInput").value);
    if (amount > credits) return alert("Nedostatek kreditÅ¯!");
    updateCredits(-amount);
    alert("VybrÃ¡no: " + amount);
}

/* ---------- Navigace ---------- */
function showPage(id) {
    document.querySelectorAll(".page").forEach(e => e.classList.remove("active"));
    document.getElementById(id).classList.add("active");
}

/* ---------- Automaty ---------- */
const symbols = ["ğŸ’","ğŸ””","ğŸ‹","â­","7ï¸âƒ£"];
const container = document.querySelector(".slots-container");
const spinSound = document.getElementById("spinSound");
const winSound = document.getElementById("winSound");

for (let i = 1; i <= 10; i++) {
    let box = document.createElement("div");
    box.className = "slot-box";
    box.innerHTML = `
        <h3>Automat #${i}</h3>
        <div id="a${i}1" class="slot">â“</div>
        <div id="a${i}2" class="slot">â“</div>
        <div id="a${i}3" class="slot">â“</div>
        <button onclick="spin(${i})" class="play">SPUSTIT</button>
        <p id="res${i}"></p>
    `;
    container.appendChild(box);
}

function spin(n) {
    if (credits < 10) return alert("NemÃ¡Å¡ kredit!");
    updateCredits(-10);

    spinSound.play();

    let r1 = document.getElementById(`a${n}1`);
    let r2 = document.getElementById(`a${n}2`);
    let r3 = document.getElementById(`a${n}3`);
    let result = document.getElementById(`res${n}`);

    let reels = [r1, r2, r3];
    let timers = [];
    let final = [];

    reels.forEach((reel, i) => {
        timers[i] = setInterval(() => {
            reel.innerText = symbols[Math.floor(Math.random()*symbols.length)];
        }, 100);
    });

    setTimeout(() => stop(0), 1000);
    setTimeout(() => stop(1), 1500);
    setTimeout(() => stop(2), 2000);

    function stop(i) {
        clearInterval(timers[i]);
        final[i] = symbols[Math.floor(Math.random()*symbols.length)];
        reels[i].innerText = final[i];
        if (i === 2) checkWin();
    }

    function checkWin() {
        let [a,b,c] = final;
        if (a===b && b===c) {
            winSound.play();
            updateCredits(+50);
            result.innerText = "ğŸ‰ VÃ½hra +50!";
        } else {
            result.innerText = "âŒ Prohra";
        }
    }
}

/* ---------- Blackjack ---------- */
let deck, player, dealer;

function newDeck() {
    let c = ["A","2","3","4","5","6","7","8","9","10","J","Q","K"];
    return [...c,...c,...c,...c];
}

function draw() { return deck.splice(Math.floor(Math.random()*deck.length),1)[0]; }

function cardValue(c) {
    if (c=="A") return 11;
    if (["J","Q","K"].includes(c)) return 10;
    return Number(c);
}

function total(hand) {
    let t = hand.reduce((s,c)=>s+cardValue(c),0);
    while (t>21 && hand.includes("A")) {
        t-=10;
        hand[hand.indexOf("A")] = "a";
    }
    return t;
}

function render() {
    document.getElementById("playerCards").innerText = player.join(" ");
    document.getElementById("dealerCards").innerText = dealer.join(" ");
    document.getElementById("playerTotal").innerText = total([...player]);
    document.getElementById("dealerTotal").innerText = total([...dealer]);
}

function startBlackjack() {
    if (credits < 20) return alert("PotÅ™ebujeÅ¡ 20 kreditÅ¯!");
    updateCredits(-20);

    deck = newDeck();
    player = [draw(), draw()];
    dealer = [draw(), draw()];
    document.getElementById("bjResult").innerHTML = "";
    render();
}

function hit() {
    player.push(draw());
    render();
    if (total([...player]) > 21) {
        document.getElementById("bjResult").innerText = "ğŸ’¥ ProhrÃ¡l jsi!";
    }
}

function stand() {
    while (total([...dealer]) < 17) dealer.push(draw());
    render();

    let p = total([...player]);
    let d = total([...dealer]);

    if (p > 21) lose();
    else if (d > 21 || p > d) win();
    else if (p == d) drawGame();
    else lose();
}

function win() {
    updateCredits(+40);
    document.getElementById("bjResult").innerText = "ğŸ‰ VÃ½hra +40!";
}

function lose() {
    document.getElementById("bjResult").innerText = "âŒ Prohra!";
}

function drawGame() {
    document.getElementById("bjResult").innerText = "ğŸ¤ RemÃ­za!";
}
</script>

</body>
</html>
